<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" /> <!-- Esto hace que la página sea responsive, ajustándose a diferentes tamaños de pantalla-->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">   <!--iconos de bootstrap-->

  <link href="css/stylesCarrito.css" rel="stylesheet" />
  <link rel="stylesheet" href="css/botonUsuario.css">
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav">
    <div class="container">
        <a class="navbar-brand" href="index.html"><img src="assets/img/logos/logoFamilyStyle1.png" alt="......" style="width: 250px; height: 80px;"/></a>
        <button class="btn-cerrar" title="Cerrar" onclick="window.history.back()">✖</button>

</nav>

<div class="barra-superior"></div>
<div class="titulo-pagina text-center">
  <h1>Carrito de Compras</h1>
</div>


    <!-- Aquí se mostrarán los productos -->
    <div id="carrito-container" class="row"></div>

    <!-- Total del carrito -->
    <div class="text-end mt-4">
      <h4 id="total-carrito">Total: $0.00</h4>
    </div>

    <!-- Botones -->
    <div class="text-center mt-4">
      <button class="btn btn-danger me-2" title="vaciar carrito" onclick="vaciarCarrito()">Vaciar carrito</button>
      <button class="btn btn-success" title="Ir a pago" onclick="irAPago()">Ir a pagar</button>
    </div>
  </div>

  
<!-- Contenedor donde se cargará el botón -->
<div id="botonUsuarioContainer"></div>

<script>
  // Cargar el archivo botonUsuario.html en el contenedor
  fetch("botonUsuario.html")
    .then(res => res.text())
    .then(html => {
      // Inserta el HTML del botón en el contenedor
      document.getElementById("botonUsuarioContainer").innerHTML = html;

      // obtiene el botón y verifica el estado de la sesión
      const botonUsuario = document.getElementById("botonUsuario");
      const usuarioLogueado = JSON.parse(localStorage.getItem("usuarioLogueado"));

      if (usuarioLogueado) {
        botonUsuario.title = "Cerrar sesión";
        botonUsuario.onclick = () => {
          if (confirm("¿Deseas cerrar sesión?")) {
            localStorage.removeItem("usuarioLogueado");
            window.location.href = "index.html";  //al cerrar la secion dirige al usuario a la pagina inicial de la tienda
          }
        };
      } else {
        botonUsuario.title = "Iniciar sesión";
        botonUsuario.onclick = () => {
          window.location.href = "prueba_login.html";  // dirige al usuario al login si el usuario no está logueado
        };
      }
    })
    .catch(error => {
      console.error("No se pudo cargar el archivo botonUsuario.html", error);
    });
</script>



  <script src="carrito.js"></script>
  

</body>
</html>

  